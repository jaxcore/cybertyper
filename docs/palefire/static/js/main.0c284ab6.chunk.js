(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,t){e.exports={Jack:{name:"Jack",engine:"espeak",default:{amplitude:100,wordgap:0,pitch:10,speed:180,variant:"m2"},high:{pitch:50},low:{pitch:0},slow:{speed:120},fast:{speed:250}},Pris:{name:"Pris",phoneticName:"Priss",engine:"espeak",default:{amplitude:100,wordgap:0,pitch:47,speed:130,variant:"f5"},high:{pitch:80},low:{pitch:20},slow:{speed:100},fast:{speed:200}},Roy:{name:"Roy",engine:"espeak",default:{amplitude:100,wordgap:0,pitch:35,speed:180,variant:"m1"},high:{pitch:3},low:{pitch:5},slow:{speed:100},fast:{speed:200}},Scotty:{name:"Scotty",engine:"espeak",default:{amplitude:100,wordgap:0,pitch:35,speed:200,variant:"m3"},high:{pitch:3},low:{pitch:5},slow:{speed:100},fast:{speed:230}},Xenu:{name:"Xenu",phoneticName:"zee-new",engine:"espeak",default:{amplitude:100,wordgap:1,pitch:35,speed:170,variant:"klatt3"},high:{pitch:65},low:{pitch:0},slow:{speed:100},fast:{speed:200}},Cylon:{name:"Cylon",engine:"espeak",default:{amplitude:100,wordgap:1,pitch:35,speed:170,variant:"whisperf"},high:{pitch:65,speed:150},low:{pitch:0,speed:140},slow:{pitch:20,speed:100,wordgap:1},fast:{speed:200,wordgap:0}},Leon:{name:"Leon",phoneticName:"Leeon",engine:"espeak",default:{amplitude:100,wordgap:0,pitch:40,speed:150,variant:"m7"},high:{pitch:55},low:{pitch:5},slow:{speed:100},fast:{speed:200}},Rachel:{name:"Rachel",engine:"espeak",default:{amplitude:100,wordgap:0,pitch:60,speed:150,variant:"f2"},high:{pitch:75},low:{pitch:40},slow:{speed:100},fast:{speed:200}},Zhora:{name:"Zhora",engine:"espeak",default:{amplitude:100,wordgap:0,pitch:60,speed:150,variant:"f4"},high:{pitch:75},low:{pitch:40},slow:{speed:100},fast:{speed:200}},Borg:{name:"Borg",engine:"espeak",default:{}},Sam:{name:"Sam",engine:"sam",default:{speed:64,pitch:64,throat:128,mouth:128},high:{pitch:50},low:{pitch:110},slow:{speed:100},fast:{speed:40}},Elf:{name:"Elf",engine:"sam",default:{speed:72,pitch:64,throat:110,mouth:160},high:{pitch:50},low:{pitch:110},slow:{speed:100},fast:{speed:40}},Robo:{name:"Robo",engine:"sam",default:{speed:82,pitch:60,throat:190,mouth:190},high:{pitch:40},low:{pitch:100},slow:{speed:120},fast:{speed:50}},Granny:{name:"Granny",engine:"sam",default:{speed:82,pitch:35,throat:145,mouth:145},high:{pitch:25},low:{pitch:120},slow:{speed:130},fast:{speed:40}}}},,function(e,t,n){e.exports=n(27)},,,function(e,t,n){e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(e,t){e.exports=n(21)},function(e,t,n){"use strict";var i=n(4),r=n(5),o=n(7);e.exports=function(e){for(var t=r(String(e)).toLowerCase().replace(y,"").split(m),n=t.length,i=-1,o=0;++i<n;)o+=b(t[i].replace(v,""));return o};var a={}.hasOwnProperty,s=new RegExp(["awe($|d|so)","cia(?:l|$)","tia","cius","cious","[^aeiou]giu","[aeiouy][^aeiouy]ion","iou","sia$","eous$","[oa]gue$",".[^aeiuoycgltdb]{2,}ed$",".ely$","^jua","uai","eau","^busi$","(?:[aeiouy](?:"+["[bcfgklmnprsvwxyz]","ch","dg","g[hn]","lch","l[lv]","mm","nch","n[cgn]","r[bcnsv]","squ","s[chkls]","th"].join("|")+")ed$)","(?:[aeiouy](?:"+["[bdfklmnprstvy]","ch","g[hn]","lch","l[lv]","mm","nch","nn","r[nsv]","squ","s[cklst]","th"].join("|")+")es$)"].join("|"),"g"),l=new RegExp("[aeiouy](?:"+["[bcdfgklmnprstvyz]","ch","dg","g[hn]","l[lv]","mm","n[cgn]","r[cnsv]","squ","s[cklst]","th"].join("|")+")e$","g"),u=new RegExp("(?:"+["([^aeiouy])\\1l","[^aeiouy]ie(?:r|s?t)","[aeiouym]bl","eo","ism","asm","thm","dnt","snt","uity","dea","gean","oa","ua","react?","orbed","eings?","[aeiouy]sh?e[rs]"].join("|")+")$","g"),c=new RegExp(["creat(?!u)","[^gq]ua[^auieo]","[aeiou]{3}","^(?:ia|mc|coa[dglx].)","^re(app|es|im|us)"].join("|"),"g"),h=new RegExp(["[^aeiou]y[ae]","[^l]lien","riet","dien","iu","io","ii","uen","[aeilotu]real","real[aeilotu]","iell","eo[^aeiou]","[aeiou]y[aeiou]"].join("|"),"g"),p=/[^s]ia/,d=new RegExp(["^(?:"+["un","fore","ware","none?","out","post","sub","pre","pro","dis","side","some"].join("|")+")","(?:"+["ly","less","some","ful","ers?","ness","cians?","ments?","ettes?","villes?","ships?","sides?","ports?","shires?","tion(?:ed|s)?"].join("|")+")$"].join("|"),"g"),f=new RegExp(["^(?:"+["above","anti","ante","counter","hyper","afore","agri","infra","intra","inter","over","semi","ultra","under","extra","dia","micro","mega","kilo","pico","nano","macro","somer"].join("|")+")","(?:fully|berry|woman|women|edly)$"].join("|"),"g"),g=/(creations?|ology|ologist|onomy|onomist)$/g,m=/\b/g,y=/['\u2019]/g,v=/[^a-z]/g;function b(e){var t,n,r,m,y,v,b=0;if(0===e.length)return b;if(e.length<3)return 1;if(a.call(o,e))return o[e];if(r=i(e,1),a.call(o,r))return o[r];for(y=k(1),v=k(-1),t=-1,n=(m=(e=e.replace(g,w(3)).replace(f,w(2)).replace(d,w(1))).split(/[^aeiouy]+/)).length;++t<n;)""!==m[t]&&b++;return e.replace(s,v).replace(l,v),e.replace(u,y).replace(c,y).replace(h,y).replace(p,y),b||1;function w(e){return function(){return b+=e,""}}function k(e){return function(t){return b+=e,t}}}},function(e,t,n){"use strict";(function(e){var i=n(0),r=n.n(i),o=n(1),a=n.n(o);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function u(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}e.syllable=a.a,console.log("syllable",a.a);var p=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=u(this,c(t).call(this,e));var i=e.text.split(" "),r=[],o=0,s=n.props.syllableDuration;i.forEach(function(e,t){var n;n=1===e.length?1:a()(e),o+=n,r.push({text:e,syllables:n}),t<i.length-1&&(o+=1,r.push({space:!0,text:" ",syllables:1}))});var l=o*s;return n.state={text:"",done:!1,cursor:!0,wordProgress:0,letterProgress:0,duration:0,letterDuration:0,totalDuration:l,lineBreakDuration:100,spaceDuration:100,periodDuration:100,totalSyllables:o,letterCount:e.text.length,wordIntervals:r},n}var n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),n=t,(i=[{key:"componentDidMount",value:function(){var e=this;this.props.onStart(),this.props.onstarted&&this.props.onstarted(),this.props.voice.say(this.props.text,{profile:this.props.speaker?this.props.speaker.voice:null}).then(function(){e.next()})}},{key:"next",value:function(){var e=this,t=this.state.wordProgress;if(t>this.state.wordIntervals.length)console.log("stopped");else{var n,i,r=this.state.letterProgress,o=this.state.text;0===t?(t=1,r=1,n=this.state.wordIntervals[t-1]):(r+=1,n=this.state.wordIntervals[t-1],r>n.text.length&&(r=1,t+=1,n=this.state.wordIntervals[t-1])),i=n.space?this.state.spaceDuration:n.syllables*this.props.syllableDuration/n.text.length,n.space?o+=" ":o+=n.text[r-1];var a={text:o,letterDuration:i,letterProgress:r,wordProgress:t};this.setState(a,function(){if(t===e.state.wordIntervals.length&&r===n.text.length){var i=e.state.wordProgress;i++,e.setState({wordProgress:i},function(){setTimeout(function(){e.setState({done:!0},function(){console.log("done"),e.props.onEnd(),e.props.onended&&e.props.onended()})},e.state.lineBreakDuration)})}else e.state.letterDuration&&setTimeout(function(){e.next()},e.state.letterDuration)})}}},{key:"render",value:function(){return r.a.createElement("div",{className:"CyberTyperLine"},this.state.text,this.renderFloatingCursor())}},{key:"renderFloatingCursor",value:function(){if(!this.state.isDelaying&&!this.state.done&&this.props.cursor)return r.a.createElement("span",{className:"CyberTyperLineFloatingCursor"})}}])&&l(n.prototype,i),t}(i.Component);t.a=p}).call(this,n(3))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){e.exports=function(){var e=[],t=[],n={},i={},r={};function o(e){return"string"==typeof e?new RegExp("^"+e+"$","i"):e}function a(e,t){return e===t?t:e===e.toLowerCase()?t.toLowerCase():e===e.toUpperCase()?t.toUpperCase():e[0]===e[0].toUpperCase()?t.charAt(0).toUpperCase()+t.substr(1).toLowerCase():t.toLowerCase()}function s(e,t){return e.replace(t[0],function(n,i){var r=function(e,t){return e.replace(/\$(\d{1,2})/g,function(e,n){return t[n]||""})}(t[1],arguments);return a(""===n?e[i-1]:n,r)})}function l(e,t,i){if(!e.length||n.hasOwnProperty(e))return t;for(var r=i.length;r--;){var o=i[r];if(o[0].test(t))return s(t,o)}return t}function u(e,t,n){return function(i){var r=i.toLowerCase();return t.hasOwnProperty(r)?a(i,r):e.hasOwnProperty(r)?a(i,e[r]):l(r,i,n)}}function c(e,t,n,i){return function(i){var r=i.toLowerCase();return!!t.hasOwnProperty(r)||!e.hasOwnProperty(r)&&l(r,r,n)===r}}function h(e,t,n){return(n?t+" ":"")+(1===t?h.singular(e):h.plural(e))}return h.plural=u(r,i,e),h.isPlural=c(r,i,e),h.singular=u(i,r,t),h.isSingular=c(i,r,t),h.addPluralRule=function(t,n){e.push([o(t),n])},h.addSingularRule=function(e,n){t.push([o(e),n])},h.addUncountableRule=function(e){"string"!=typeof e?(h.addPluralRule(e,"$0"),h.addSingularRule(e,"$0")):n[e.toLowerCase()]=!0},h.addIrregularRule=function(e,t){t=t.toLowerCase(),e=e.toLowerCase(),r[e]=t,i[t]=e},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach(function(e){return h.addIrregularRule(e[0],e[1])}),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(e){return h.addPluralRule(e[0],e[1])}),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(e){return h.addSingularRule(e[0],e[1])}),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[e\xe9]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(h.addUncountableRule),h}()},function(e,t,n){var i,r;r="undefined"!=typeof window?window:this,void 0===(i=function(){return r.document,i=n(6),o=null,function(n,r){return t=e,e=r||i,o=o&&t===e?o:function(e){return new RegExp("["+Object.keys(e).map(function(e){return String.fromCharCode(e)}).join(" ")+"]","g")}(e),n.replace(o,function(t){return e[t.charCodeAt(0)]||t})};var e,t,i,o}.call(t,n,t,e))||(e.exports=i)},function(e){e.exports=JSON.parse('{"105":"i","192":"A","193":"A","194":"A","195":"A","196":"A","197":"A","199":"C","200":"E","201":"E","202":"E","203":"E","204":"I","205":"I","206":"I","207":"I","209":"N","210":"O","211":"O","212":"O","213":"O","214":"O","216":"O","217":"U","218":"U","219":"U","220":"U","221":"Y","224":"a","225":"a","226":"a","227":"a","228":"a","229":"a","231":"c","232":"e","233":"e","234":"e","235":"e","236":"i","237":"i","238":"i","239":"i","241":"n","242":"o","243":"o","244":"o","245":"o","246":"o","248":"o","249":"u","250":"u","251":"u","252":"u","253":"y","255":"y","256":"A","257":"a","258":"A","259":"a","260":"A","261":"a","262":"C","263":"c","264":"C","265":"c","266":"C","267":"c","268":"C","269":"c","270":"D","271":"d","272":"D","273":"d","274":"E","275":"e","276":"E","277":"e","278":"E","279":"e","280":"E","281":"e","282":"E","283":"e","284":"G","285":"g","286":"G","287":"g","288":"G","289":"g","290":"G","291":"g","292":"H","293":"h","294":"H","295":"h","296":"I","297":"i","298":"I","299":"i","300":"I","301":"i","302":"I","303":"i","304":"I","308":"J","309":"j","310":"K","311":"k","313":"L","314":"l","315":"L","316":"l","317":"L","318":"l","319":"L","320":"l","321":"L","322":"l","323":"N","324":"n","325":"N","326":"n","327":"N","328":"n","332":"O","333":"o","334":"O","335":"o","336":"O","337":"o","338":"O","339":"o","340":"R","341":"r","342":"R","343":"r","344":"R","345":"r","346":"S","347":"s","348":"S","349":"s","350":"S","351":"s","352":"S","353":"s","354":"T","355":"t","356":"T","357":"t","358":"T","359":"t","360":"U","361":"u","362":"U","363":"u","364":"U","365":"u","366":"U","367":"u","368":"U","369":"u","370":"U","371":"u","372":"W","373":"w","374":"Y","375":"y","376":"Y","377":"Z","378":"z","379":"Z","380":"z","381":"Z","382":"z","384":"b","385":"B","386":"B","387":"b","390":"O","391":"C","392":"c","393":"D","394":"D","395":"D","396":"d","398":"E","400":"E","401":"F","402":"f","403":"G","407":"I","408":"K","409":"k","410":"l","412":"M","413":"N","414":"n","415":"O","416":"O","417":"o","420":"P","421":"p","422":"R","427":"t","428":"T","429":"t","430":"T","431":"U","432":"u","434":"V","435":"Y","436":"y","437":"Z","438":"z","461":"A","462":"a","463":"I","464":"i","465":"O","466":"o","467":"U","468":"u","477":"e","484":"G","485":"g","486":"G","487":"g","488":"K","489":"k","490":"O","491":"o","500":"G","501":"g","504":"N","505":"n","512":"A","513":"a","514":"A","515":"a","516":"E","517":"e","518":"E","519":"e","520":"I","521":"i","522":"I","523":"i","524":"O","525":"o","526":"O","527":"o","528":"R","529":"r","530":"R","531":"r","532":"U","533":"u","534":"U","535":"u","536":"S","537":"s","538":"T","539":"t","542":"H","543":"h","544":"N","545":"d","548":"Z","549":"z","550":"A","551":"a","552":"E","553":"e","558":"O","559":"o","562":"Y","563":"y","564":"l","565":"n","566":"t","567":"j","570":"A","571":"C","572":"c","573":"L","574":"T","575":"s","576":"z","579":"B","580":"U","581":"V","582":"E","583":"e","584":"J","585":"j","586":"Q","587":"q","588":"R","589":"r","590":"Y","591":"y","592":"a","593":"a","595":"b","596":"o","597":"c","598":"d","599":"d","600":"e","603":"e","604":"e","605":"e","606":"e","607":"j","608":"g","609":"g","610":"g","613":"h","614":"h","616":"i","618":"i","619":"l","620":"l","621":"l","623":"m","624":"m","625":"m","626":"n","627":"n","628":"n","629":"o","633":"r","634":"r","635":"r","636":"r","637":"r","638":"r","639":"r","640":"r","641":"r","642":"s","647":"t","648":"t","649":"u","651":"v","652":"v","653":"w","654":"y","655":"y","656":"z","657":"z","663":"c","665":"b","666":"e","667":"g","668":"h","669":"j","670":"k","671":"l","672":"q","686":"h","688":"h","690":"j","691":"r","692":"r","694":"r","695":"w","696":"y","737":"l","738":"s","739":"x","780":"v","829":"x","851":"x","867":"a","868":"e","869":"i","870":"o","871":"u","872":"c","873":"d","874":"h","875":"m","876":"r","877":"t","878":"v","879":"x","7424":"a","7427":"b","7428":"c","7429":"d","7431":"e","7432":"e","7433":"i","7434":"j","7435":"k","7436":"l","7437":"m","7438":"n","7439":"o","7440":"o","7441":"o","7442":"o","7443":"o","7446":"o","7447":"o","7448":"p","7449":"r","7450":"r","7451":"t","7452":"u","7453":"u","7454":"u","7455":"m","7456":"v","7457":"w","7458":"z","7522":"i","7523":"r","7524":"u","7525":"v","7680":"A","7681":"a","7682":"B","7683":"b","7684":"B","7685":"b","7686":"B","7687":"b","7690":"D","7691":"d","7692":"D","7693":"d","7694":"D","7695":"d","7696":"D","7697":"d","7698":"D","7699":"d","7704":"E","7705":"e","7706":"E","7707":"e","7710":"F","7711":"f","7712":"G","7713":"g","7714":"H","7715":"h","7716":"H","7717":"h","7718":"H","7719":"h","7720":"H","7721":"h","7722":"H","7723":"h","7724":"I","7725":"i","7728":"K","7729":"k","7730":"K","7731":"k","7732":"K","7733":"k","7734":"L","7735":"l","7738":"L","7739":"l","7740":"L","7741":"l","7742":"M","7743":"m","7744":"M","7745":"m","7746":"M","7747":"m","7748":"N","7749":"n","7750":"N","7751":"n","7752":"N","7753":"n","7754":"N","7755":"n","7764":"P","7765":"p","7766":"P","7767":"p","7768":"R","7769":"r","7770":"R","7771":"r","7774":"R","7775":"r","7776":"S","7777":"s","7778":"S","7779":"s","7786":"T","7787":"t","7788":"T","7789":"t","7790":"T","7791":"t","7792":"T","7793":"t","7794":"U","7795":"u","7796":"U","7797":"u","7798":"U","7799":"u","7804":"V","7805":"v","7806":"V","7807":"v","7808":"W","7809":"w","7810":"W","7811":"w","7812":"W","7813":"w","7814":"W","7815":"w","7816":"W","7817":"w","7818":"X","7819":"x","7820":"X","7821":"x","7822":"Y","7823":"y","7824":"Z","7825":"z","7826":"Z","7827":"z","7828":"Z","7829":"z","7835":"s","7840":"A","7841":"a","7842":"A","7843":"a","7864":"E","7865":"e","7866":"E","7867":"e","7868":"E","7869":"e","7880":"I","7881":"i","7882":"I","7883":"i","7884":"O","7885":"o","7886":"O","7887":"o","7908":"U","7909":"u","7910":"U","7911":"u","7922":"Y","7923":"y","7924":"Y","7925":"y","7926":"Y","7927":"y","7928":"Y","7929":"y","8305":"i","8341":"h","8342":"k","8343":"l","8344":"m","8345":"n","8346":"p","8347":"s","8348":"t","8450":"c","8458":"g","8459":"h","8460":"h","8461":"h","8464":"i","8465":"i","8466":"l","8467":"l","8468":"l","8469":"n","8472":"p","8473":"p","8474":"q","8475":"r","8476":"r","8477":"r","8484":"z","8488":"z","8492":"b","8493":"c","8495":"e","8496":"e","8497":"f","8498":"F","8499":"m","8500":"o","8506":"q","8513":"g","8514":"l","8515":"l","8516":"y","8517":"d","8518":"d","8519":"e","8520":"i","8521":"j","8526":"f","8579":"C","8580":"c","8765":"s","8766":"s","8959":"z","8999":"x","9746":"x","9776":"i","9866":"i","10005":"x","10006":"x","10007":"x","10008":"x","10625":"z","10626":"z","11362":"L","11364":"R","11365":"a","11366":"t","11373":"A","11374":"M","11375":"A","11390":"S","11391":"Z","19904":"i","42893":"H","42922":"H","42923":"E","42924":"G","42925":"L","42928":"K","42929":"T","62937":"x"}')},function(e){e.exports=JSON.parse('{"abalone":4,"abare":3,"abbruzzese":4,"abed":2,"aborigine":5,"abruzzese":4,"acreage":3,"adame":3,"adieu":2,"adobe":3,"anemone":4,"apache":3,"aphrodite":4,"apostrophe":4,"ariadne":4,"cafe":2,"calliope":4,"catastrophe":4,"chile":2,"chloe":2,"circe":2,"coyote":3,"daphne":2,"epitome":4,"eurydice":4,"euterpe":3,"every":2,"everywhere":3,"forever":3,"gethsemane":4,"guacamole":4,"hermione":4,"hyperbole":4,"jesse":2,"jukebox":2,"karate":3,"machete":3,"maybe":2,"newlywed":3,"penelope":4,"people":2,"persephone":4,"phoebe":2,"pulse":1,"queue":1,"recipe":3,"riverbed":3,"sesame":3,"shoreline":2,"simile":3,"snuffleupagus":5,"sometimes":2,"syncope":3,"tamale":3,"waterbed":3,"wednesday":2,"yosemite":4,"zoe":2}')},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(2);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,l(t).call(this,e))).state={done:!1},n}var n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),n=t,(i=[{key:"componentDidMount",value:function(){var e=this;this.props.onStart(),this.props.onstarted&&this.props.onstarted(),this.setState({done:!0},function(){console.log("done"),e.props.onEnd(),e.props.onended&&e.props.onended()})}},{key:"render",value:function(){var e;return e=!this.props.cursor||this.state.done?r.a.createElement("br",null):r.a.createElement("span",null,"&nbsp",this.renderCursor()),r.a.createElement("div",{className:"CyberTyperLineBreak"},e)}},{key:"renderCursor",value:function(){return r.a.createElement("div",{className:"CyberTyperLineCursor"})}}])&&s(n.prototype,i),t}(i.Component);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,g(t).call(this,e));var i=e.script,r=[];return i.forEach(function(e){if(e.text&&(e.text.forEach?e.text.forEach(function(t,n){var i={text:t};i.speaker=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){d(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e.speaker,0===n?{displayName:!0}:{displayName:!1}),r.push(i)}):e.text.toString&&r.push({text:e.text.toString(),speaker:e.speaker})),e.linebreak)if("number"==typeof e.linebreak)for(var t=0;t<e.linebreak;t++)r.push({linebreak:!0});else r.push({linebreak:!0})}),n.state={script:r,lines:[],progress:0,started:e.start||!1,syllableDuration:300},n}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,e),n=t,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e.start&&(t.started=e.start),t}}],(i=[{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.start&&!1===e.start?{started:this.props.start}:null}},{key:"componentDidUpdate",value:function(e,t,n){n&&"started"in n&&this.next()}},{key:"next",value:function(){var e=this.state.progress+1,t=this.state.script;if(e<=t.length){t[e-1].started=!0,t[e-1].lineNum=e-1;var n=this.state.lines;1===e&&n.push(t[e-1]),this.setState({lines:n,progress:e})}}},{key:"render",value:function(){return r.a.createElement("div",{className:"CyberTyper"},this.renderLines(),this.renderCursor())}},{key:"renderCursor",value:function(){if(this.state.isDelaying)return r.a.createElement("div",{className:"CyberTyperLineCursor"})}},{key:"renderLines",value:function(){var e=this;if(this.state.started)return this.state.lines.map(function(t,n){var i=t.lineNum;if(t.started)return t.sayProfile||e.props.defaultSayProfile,t.linebreak?r.a.createElement(c,{key:i,cursor:e.props.cursor,delay:t.delay,onstarted:t.onstarted,onStart:function(){e.onStart(i)},onended:t.onended,onEnd:function(){e.onEnd(i)}}):r.a.createElement(o.a,{key:i,voice:e.props.say,cursor:e.props.cursor,text:t.text,speaker:t.speaker,delay:t.delay,syllableDuration:e.state.syllableDuration,onstarted:t.onstarted,onStart:function(){e.onStart(i)},onended:t.onended,onEnd:function(){e.onEnd(i)}})})}},{key:"onStart",value:function(e){console.log("line start",e)}},{key:"onEnd",value:function(e){var t=this;console.log("line end",e);var n=this.state.progress+1,i=this.state.script;if(n<=i.length){var r=i[n-1].delay||300,o=this.state.lines;o.push(i[n-1]),this.props.maxLines&&o.length>this.props.maxLines&&o.splice(0,o.length-this.props.maxLines),this.setState({isDelaying:!0,lines:o},function(){setTimeout(function(){t.setState({isDelaying:!1},function(){t.next()})},r)})}else this.props.onComplete&&this.props.onComplete()}}])&&f(n.prototype,i),a&&f(n,a),t}(i.Component);t.default=y}])},,function(e,t,n){e.exports=n(26)},,,,,function(e,t,n){},,,,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var i=n(2),r=n.n(i),o=n(12),a=n.n(o),s=(n(20),n(0)),l=n(1),u=n(4),c=n(3),h=n(5),p=n(13),d=n.n(p),f=(n(24),n(10)),g=n.n(f);g.a.setWorkers({espeak:"webworkers/espeak-en-worker.js"});var m=new g.a({language:"en-us"}),y=function(e){function t(e){var n;Object(s.a)(this,t);var i={name:"Interrogator",voice:"Cylon",className:"Interrogator",displayName:!0},r={name:"K",voice:"Jack",className:"K",displayName:!0};return(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={started:!1,cyberscript:[{text:["And blood-black nothingness began to spin...","A system of cells interlinked within cells interlinked","within cells interlinked within one stem...","And dreadfully distinct against the dark,","a tall white fountain played."],speaker:r,linebreak:!0},{text:"Cells.",speaker:i,linebreak:!0},{text:"Cells.",speaker:r,linebreak:!0},{text:["Have you ever been in an institution?","Cells."],speaker:i,linebreak:!0},{text:"Cells.",speaker:r,linebreak:!0},{text:["Do they keep you in a cell?","Cells."],speaker:i,linebreak:!0},{text:"Cells.",speaker:r,linebreak:!0},{text:["When you're not performing your duties do they keep you in a little box?","Cells."],speaker:i,linebreak:!0},{text:"Cells.",speaker:r,linebreak:!0},{text:"Interlinked.",speaker:i,linebreak:!0},{text:"Interlinked.",speaker:r,linebreak:!0},{text:["What's it like to hold the hand of someone you love?","Interlinked."],speaker:i,linebreak:!0},{text:"Interlinked.",speaker:r,linebreak:!0},{text:["Did they teach you how to feel finger to finger?","Interlinked."],speaker:i,linebreak:!0},{text:"Interlinked.",speaker:r,linebreak:!0},{text:["Do you long for having your heart interlinked?","Interlinked."],speaker:i,linebreak:!0},{text:"Interlinked.",speaker:r,linebreak:!0},{text:"Do you dream about being interlinked... ?",speaker:i,linebreak:!0},{text:"Interlinked.",speaker:r,linebreak:!0},{text:["What's it like to hold your child in your arms?","Interlinked."],speaker:i,linebreak:!0},{text:"Interlinked.",speaker:r,linebreak:!0},{text:["Do you feel that there's a part of you that's missing?","Interlinked."],speaker:i,linebreak:!0},{text:"Interlinked.",speaker:r,linebreak:!0},{text:"Within cells interlinked.",speaker:i,linebreak:!0},{text:"Within cells interlinked.",speaker:r,linebreak:!0},{text:["Why don't you say that three times:","Within cells interlinked."],speaker:i,linebreak:!0},{text:["Within cells interlinked.","Within cells interlinked.","Within cells interlinked."],speaker:r,linebreak:!0}]},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"start",value:function(){this.setState({started:!0})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement("h2",null,"Pale Fire"),r.a.createElement("button",{onClick:function(t){e.start()}},"Start"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(d.a,{say:m,cursor:"\u258c",sayProfile:"Jack",script:this.state.cyberscript,maxLines:15,start:this.state.started,onComplete:function(){console.log("CyberTyper complete")}}))}}]),t}(i.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(r.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n(1),o=n(4),a=n(3),s=n(5),u=n(7),c=n.n(u),h=n(14),p=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(o.a)(this,Object(a.a)(t).call(this)))._queue=[],n.speaker=e,n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"clearQueue",value:function(){this._queue=[]}},{key:"queue",value:function(e){this._queue.push(e),this._speakNext()}},{key:"_speakNext",value:function(){var e=this;if(!this.isSpeaking){var t=this._queue.shift();t?(this.isSpeaking=!0,this.speaker.getWorkerAudioData(t.text,t.options,function(n,i){t.onStart&&t.onStart(t),t.scope.loadAudioData(n,i,function(){t.onStop&&setTimeout(function(){t.onStop(t)},1),e._onEnded()})})):this.emit("finish")}}},{key:"_onEnded",value:function(){this.isSpeaking=!1,this._speakNext()}}]),t}(c.a),d=n(8),f=n.n(d),g=n(9),m=function(e){function t(e,n){var r;return Object(i.a)(this,t),n||(n={}),(r=Object(o.a)(this,Object(a.a)(t).call(this))).canvas=e,r.width=r.canvas.width,r.height=r.canvas.height,r.audioContext=null,r.meter=null,r.mediaStreamSource=null,r._draw=r.draw.bind(Object(g.a)(r)),r.isRecording=!1,r.setTheme({lineWidth:n.lineWidth||3,strokeColor:n.strokeColor||"#FF0000",clipColor:n.clipColor||n.strokeColor||"#FF0000",fillColor:n.fillColor||"rgba(255,0,0,0.1)",bgOnColor:n.bgOnColor||null,bgOffColor:n.bgOffColor||null,dotColor:n.dotColor||"#FF0000",dotSize:n.dotSize||3,background:n.background||null}),r}return Object(s.a)(t,e),Object(r.a)(t,[{key:"setTheme",value:function(e){this.theme=e,this.draw()}},{key:"createAudioMeter",value:function(e,t,n,i){var r=e.createScriptProcessor(512);return r.onaudioprocess=function(e){for(var t,n=e.inputBuffer.getChannelData(0),i=n.length,r=0,o=0;o<i;o++)t=n[o],Math.abs(t)>=this.clipLevel&&(this.clipping=!0,this.lastClip=window.performance.now()),r+=t*t;var a=Math.sqrt(r/i);this.volume=Math.max(a,this.volume*this.averaging),this.maxVolume||(this.maxVolume=this.volume),this.maxVolume=Math.max(this.volume,this.maxVolume)},r.clipping=!1,r.lastClip=0,r.volume=0,r.clipLevel=t||.99,r.averaging=n||.97,r.clipLag=i||500,r.connect(e.destination),r.checkClipping=function(){return!!this.clipping&&(this.lastClip+this.clipLag<window.performance.now()&&(this.clipping=!1),this.clipping)},r.shutdown=function(){this.disconnect(),this.onaudioprocess=null},r}},{key:"setIsRecording",value:function(e){this.isRecording!==e?(this.isRecording=e,e?this.startRecording():this.stopRecording()):console.log("same")}},{key:"stopRecording",value:function(){this.isRecording&&(this.mediaStreamSource&&this.meter&&this.mediaStreamSource.disconnect(this.meter),this.meter&&this.meter.shutdown(),this.audioContext&&this.audioContext.close()),this.isRecording=!1,this.isDrawing=!1}},{key:"requestMic",value:function(){var e=this;this.startRecording(function(){e.stopRecording()},function(){e.stopRecording()})}},{key:"startRecording",value:function(e,t){var n=this;if(this.isRecording)console.log("already recording");else{console.log("startRecording"),this.isRecording=!0;var i=new(window.AudioContext||window.webkitAudioContext);this.audioContext=i;var r=function(r){if(console.log("startRecording success"),n.audioContext)try{n.mediaStreamSource=i.createMediaStreamSource(r),n.meter=n.createAudioMeter(i),n.mediaStreamSource.connect(n.meter),n.startDrawing(),e&&e()}catch(o){t&&t()}},o=function(e){console.log("startRecording fail"),t&&t()};try{if(navigator.getUserMedia)navigator.getUserMedia({audio:{mandatory:{googEchoCancellation:"false",googAutoGainControl:"false",googNoiseSuppression:"false",googHighpassFilter:"false"},optional:[]}},r,o);else{if(!navigator.mediaDevices.getUserMedia)throw new Error("no getUserMedia");navigator.mediaDevices.getUserMedia({audio:{mandatory:{googEchoCancellation:"false",googAutoGainControl:"false",googNoiseSuppression:"false",googHighpassFilter:"false"},optional:[]}},r,o)}}catch(a){alert("getUserMedia threw exception :"+a)}}}},{key:"loadAudioData",value:function(e,t,n){var i=this;this.audioContext=e,this.source=t,t.connect(e.destination);var r=this.createAudioMeter(e);this.meter=r,t.connect(this.meter),t.onended=function(){i.isPlaying=!1,t.disconnect(),delete t.buffer,t.stop(),i.stopDrawing(),e.close(),n&&n()},this.isPlaying=!0,this.startDrawing(),t.start(0)}},{key:"startDrawing",value:function(){this.isDrawing=!0,this.draw()}},{key:"stopDrawing",value:function(){this.meter.volume=0,this.draw(),this.isDrawing=!1}},{key:"draw",value:function(){if(this.canvas){var e=this.canvas.getContext("2d");if(this.theme.background?(e.fillStyle=this.theme.background,e.fillRect(0,0,this.width,this.height)):e.clearRect(0,0,this.width,this.height),this.theme.bgOnColor||this.theme.bgOffColor){var t=Math.min(this.width,this.height)/2-e.lineWidth;e.beginPath(),e.arc(this.width/2,this.height/2,t,0,2*Math.PI,!1),e.fillStyle=this.isPlaying||this.isRecording?this.theme.bgOnColor:this.theme.bgOffColor,e.fill(),e.closePath()}if(e.lineWidth=this.theme.lineWidth,this.theme.dotSize){var n=this.theme.dotSize;e.beginPath(),e.arc(this.width/2,this.height/2,n,0,2*Math.PI,!1),e.fillStyle=this.theme.dotColor,e.fill(),e.closePath()}if(this.isRecording||this.isDrawing){if(!this.meter)return void console.error("no meter");e.strokeStyle=this.meter.checkClipping()?this.theme.clipColor:this.theme.strokeColor;var i=Math.min(this.width,this.height)/2-e.lineWidth,r=this.meter.volume*i*5;r>this.width/2-this.theme.lineWidth&&(r=this.width/2-this.theme.lineWidth),e.beginPath(),e.arc(this.width/2,this.height/2,r,0,2*Math.PI,!1),this.theme.fillColor&&(e.fillStyle=this.theme.fillColor,e.fill()),e.stroke(),e.closePath(),this.isDrawing&&window.requestAnimationFrame(this._draw)}else console.log("not drawing")}else console.log("no canvas")}}]),t}(c.a);function y(){var e;if(window.AudioContext)e=new window.AudioContext;else{if(!window.webkitAudioContext)throw new Error("no AudioContext");console.log("creating webkitAudioContext"),e=new window.webkitAudioContext}return e}n.d(t,"MonauralScope",function(){return m});var v=function(e){function t(e){var n;for(var r in Object(i.a)(this,t),e||(e={}),(n=Object(o.a)(this,Object(a.a)(t).call(this))).lang=null,n.profiles={},n.defaultProfile=null,f.a)n.addProfile(f.a[r]);return e.profile?n.setProfile(e.profile):n.setProfile("Jack"),"espeak"===n.profile.engine&&e.language&&n.setLanguage(e.language),n.lang||n.setLanguage("en_us"),e.visualizer&&n.setVisualizer(e.visualizer),n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"setVisualizer",value:function(e){this.visualizer=e}},{key:"setLanguage",value:function(e){this.lang=t.getLanguageId(e)}},{key:"processOptions",value:function(e){e||(e={});var n=e.profile?e.profile:this.defaultProfile,i=this.profiles[n].default,r=Object.assign({},i);return e.slow&&(r.speed=this.profiles[n].slow.speed),e.fast&&(r.speed=this.profiles[n].fast.speed),e.low&&(r.pitch=this.profiles[n].low.pitch),e.high&&(r.pitch=this.profiles[n].high.pitch),e.pitch&&(r.pitch=e.pitch),e.speed&&(r.speed=e.speed),e.language?r.voice=t.getLanguageId(e.language):r.voice=this.lang,e.delay&&(r.delay=e.delay),r}},{key:"say",value:function(e,t){var n=this;return t=t||{},this.visualizer?new Promise(function(i){n.getWorkerAudioData(e,t,function(e,t){n.visualizer.loadAudioData(e,t,i)})}):new Promise(function(i){n.getWorkerAudioData(e,t,function(e,n){if("Borg"===t.profile){var r=n.buffer,o=e.createGain();o.gain.setValueAtTime(1,0),o.gain.setValueAtTime(1,r.duration-.5),o.gain.linearRampToValueAtTime(1e-4,r.duration-.2),n.connect(o),o.connect(e.destination);var a=!1;setTimeout(function(){a||(a=!0,n.stop(),e.close(),i())},1e3*r.duration-200),n.onended=function(){a||(a=!0,e.close(),i())},n.start(0)}else n.connect(e.destination),n.onended=function(){e.close(),i()},n.start(0)})})}},{key:"getWorkerAudioData",value:function(e,n,i){e=e.toLowerCase(),n||(n={});var r=n.profile||this.defaultProfile;if("Borg"===r)this.borgGetAudioData(e,n,i);else{r||(r="Jack");var o=this.profiles[r];if(!o)throw new Error("no profile: "+r);var a,s=o.engine;if("sam"===s)a=t.workers.sam;else if("espeak"===s)if("string"===typeof t.workers.espeak)a=t.workers.espeak;else if(t.workers.espeak.length){var u=n.language;u.startsWith("en-")&&(u="en/"+l);for(var c=0;c<t.workers.espeak.length;c++)if(t.workers.espeak[c].language===u){a=t.workers.espeak[c].path;break}}if(!a)throw new Error("no worker path for this language");var h=new Worker(a);h.addEventListener("message",function(e){if(console.log("received from worker:",e.data),e.data.rawdata){var t=y();if(!t||!t.createBufferSource)return void console.log("no audioContext 2");var r=t.createBufferSource(),o=e.data.rawdata;if(n.rawAudioData)i(o);else if("sam"===s){for(var a=t.createBuffer(1,o.length,22050),l=a.getChannelData(0),u=0;u<o.length;u++)l[u]=o[u];r.buffer=a,console.log("returning sam"),i(t,r)}else t.decodeAudioData(o,function(e){r.buffer=e,i(t,r)},function(e){console.log("error",e)})}},!1);var p=this.processOptions(n);h.postMessage({cmd:"speak",text:e,options:p})}}},{key:"replacementsFor",value:function(e,t){return t.forEach(function(t){var n=t[0],i=t[1];e=e.replace(new RegExp(n,"gi"),i)}),e}},{key:"addProfile",value:function(e){["high","low","fast","slow"].forEach(function(t){if("default"!==t&&"name"!==t){var n=Object.assign({},e.default);for(var i in e[t])n[i]=e[t][i];e[t]=n}}),this.profiles[e.name]=e}},{key:"setProfile",value:function(e){return this.defaultProfile=e,this.profile=f.a[e],this}},{key:"borgGetAudioData",value:function(e,t,n){var i=this;e+="....";var r=[],o=t&&t.language?t.language:this.lang,a=y();r.push(function(t){i.getWorkerAudioData(e,{profile:"Jack",language:o,speed:160,pitch:1,rawAudioData:!0},function(e){a.decodeAudioData(e,function(n){t(null,[e,n])})})}),r.push(function(t){i.getWorkerAudioData(e,{profile:"Jack",language:o,speed:160,pitch:40,rawAudioData:!0},function(e){a.decodeAudioData(e,function(n){t(null,[e,n])})})}),r.push(function(t){i.getWorkerAudioData(e,{profile:"Roy",language:o,speed:160,pitch:30,rawAudioData:!0},function(e){a.decodeAudioData(e,function(n){t(null,[e,n])})})}),r.push(function(t){i.getWorkerAudioData(e,{profile:"Roy",language:o,speed:160,pitch:30,rawAudioData:!0},function(e){a.decodeAudioData(e,function(n){t(null,[e,n])})})}),r.push(function(t){i.getWorkerAudioData(e,{profile:"Leon",language:o,speed:160,pitch:20,rawAudioData:!0},function(e){a.decodeAudioData(e,function(n){t(null,[e,n])})})}),r.push(function(t){i.getWorkerAudioData(e,{profile:"Xenu",language:o,speed:166,pitch:5,rawAudioData:!0},function(e){a.decodeAudioData(e,function(n){t(null,[e,n])})})}),h.a.parallel(r,function(e,t){if(t){var i=0,r=0,o=0;t.forEach(function(e){var t=e[1];i=Math.max(i,t.length),r=Math.max(r,t.duration),o=t.sampleRate});var a=y(),s=a.createBuffer(2,o*r,o),l=!1;t.forEach(function(e){var t=e[1];if(l)for(var n=t.getChannelData(0),r=s.getChannelData(0),o=0;o<i;o++)o>r.length&&(r[o]=0),r[o]+=n[o];else for(var a=t.getChannelData(0),u=s.getChannelData(1),c=0;c<i;c++)c>a.length?u[c]=0:u[c]+=a[c];l=!l});var u=a.createBufferSource();u.buffer=s,n(a,u)}})}}]),t}(c.a);v.variants=["f1","f2","f3","f4","f5","m1","m2","m3","m4","m5","m6","m7","croak","klatt","klatt2","klatt3","whisper","whisperf"],v.profiles=f.a,v.languageIds={ca:"Catalan",cs:"Czech",de:"German",el:"Greek","en/en":"English","en/en-n":"English (N)","en/en-rp":"English (RP)","en/en-sc":"English (Scottish)","en/en-us":"English (US)","en/en-wm":"English (WM)",eo:"Esperanto",es:"Spanish","es-la":"Spanish (Latin America)",fi:"Finnish",fr:"French",hu:"Hungarian",it:"Italian",kn:"Kannada",la:"Latin",lv:"Latvian",nl:"Dutch",pl:"Polish",pt:"Portuguese (Brazil)","pt-pt":"Portuguese, European",ro:"Romanian",sk:"Slovak",sv:"Swedish",tr:"Turkish",zh:"Chinese (Mandarin)","zh-yue":"Chinese (Cantonese)"},v.getLanguageId=function(e){return e.indexOf("_")>-1&&(e=e.replace("_","-")),e.startsWith("en")&&-1===e.indexOf("/")&&(e="en/"+e),e},v.addProfile=function(e){for(var t in e)v.profiles[t]=e[t]},v.setWorkers=function(e){v.workers=e};var b=new p(new v);v.queue=b.queue.bind(b),v.clearQueue=b.clearQueue.bind(b),v.on=b.on.bind(b),v.once=b.once.bind(b);t.default=v}],[[15,1,2]]]);
//# sourceMappingURL=main.0c284ab6.chunk.js.map